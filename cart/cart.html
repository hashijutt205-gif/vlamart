<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLA Mart</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../style/style.css">
  <link rel="icon" href="../images/logo.jpg">
  <style>
  

/* CART ITEM BOX */
.cart-box {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #fff;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 12px;
  margin-top: 120px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

/* PRODUCT IMAGE */
.cart-img {
  width: 70px;
  height: 70px;
  object-fit: cover;
  border-radius: 10px;
}

/* ITEM INFO */
.cart-info {
  flex: 1;
  margin-left: 12px;
}

.cart-info h4 {
  margin: 0;
  font-size: 15px;
  color: #222;
}

.cart-info p {
  margin: 5px 0;
  font-weight: 600;
  color: #007bff;
}

/* REMOVE BUTTON */
.remove-btn {
  background: none;
  border: none;
  color: red;
  font-size: 13px;
  cursor: pointer;
}

/* QUANTITY BOX */
.qty-box {
  text-align: center;
}

.qty-box button {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  border: 1px solid #007bff;
  background: white;
  color: #007bff;
  font-size: 18px;
  cursor: pointer;
}

.qty-box span {
  display: inline-block;
  width: 30px;
  font-weight: 600;
}

.qty-box p {
  margin-top: 5px;
  font-weight: 600;
  color: #222;
}

/* SUMMARY BOX */
.cart-summary {
  background: #fff;
  padding: 15px;
  border-radius: 12px;
  margin-top: 120px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.cart-summary p,
.cart-summary h3 {
  display: flex;
  justify-content: space-between;
  margin: 8px 0;
}

.cart-summary h3 {
  border-top: 1px solid #ddd;
  padding-top: 10px;
}

/* PLACE ORDER BUTTON */
.place-order {
  display: block;           /* Makes it behave like a block element */
  width: 250px;             /* Small fixed width */
  margin: 15px auto 0 auto; /* Center horizontally with some top spacing */
  padding: 12px 20px;
  background: #007bff;
  color: white;
  font-size: 18px;
  border: none;
  font-weight: 600;
  cursor: pointer;
  border-radius: 8px;       /* Rounded corners */
  text-align: center;
  transition: 0.3s;         /* Smooth hover effect */
}

.place-order:hover {
  background: #0056b3;      /* Darker blue on hover */
}



  </style>
</head>
<body>
    
  <!-- Navbar -->
  <header class="landing-navbar">
    <div class="landing-logo" id="logo">
      <i class="fas fa-bolt"></i> VLAMart
    </div>

    <!-- Desktop Links -->
    <nav class="landing-links">
      <a href="../index.html"><i class="fas fa-home-user"></i>Home</a>
      <a href="../store/store.html"><i class="fas fa-shop"></i> Shop</a>
      <a href="./cart.html"><i class="fas fa-cart-shopping"></i>AddToCart</a>
      <a href="../contact/contact.html"><i class="fas fa-phone"></i> Contact</a>
     <!--  <a href="./login.html" class="landing-auth-btn landing-login-btn"><i class="fas fa-right-to-bracket"></i>
        Login</a>
      <a href="./signup.html" class="landing-auth-btn landing-signup-btn"><i class="fas fa-user-plus"></i> Sign Up</a> -->
    </nav>

    <!-- Hamburger only for mobile -->
    <div class="hamburger" id="hamburger">
      <i class="fas fa-bars"></i>
    </div>
  </header>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <a href="../index.html"><i class="fas fa-home-user"></i>Home</a>
    <a href="../store/store.html"><i class="fas fa-shop"></i> Shop</a>
    <a href="./cart.html"><i class="fas fa-cart-shopping"></i>AddToCart</a>
    <a href="../contact/contact.html"><i class="fas fa-phone"></i> Contact</a>
    <hr style="border-color: rgba(255,255,255,0.3);">
   <!--  <a href="./login.html" class="landing-auth-btn landing-login-btn"><i class="fas fa-right-to-bracket"></i> Login</a>
    <a href="./signup.html" class="landing-auth-btn landing-signup-btn"><i class="fas fa-user-plus"></i> Sign Up</a>
 -->  
  </div>
  <!-- Cart message container -->
<div id="cart-message" style="display:none; position: fixed; top: 60px; left: 50%; transform: translateX(-50%); background: #4ade80; color: #fff; padding: 12px 20px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.2); z-index: 1000; font-weight: bold;">
  Item added to cart!
</div>

  <!-- cart items -->

<div id="cart-items"></div>

<div class="cart-summary">
  <p>Subtotal: <span id="subtotal">PKR 0</span></p>
  <p>Delivery Charges: <span id="delivery">PKR 249</span></p>
  <h3>Total: <span id="total">PKR 0</span></h3>
</div>
<button class="place-order" id="place-order-btn">Place Order</button>



  




     <script src="../js-folder/script.js"></script>
    
<script>
/* multiple order */
document.getElementById('place-order-btn').addEventListener('click', () => {
    if (cart.length > 0) {
        localStorage.setItem('currentOrder', JSON.stringify(cart));
        window.location.href = 'delivery.html';
    } else {
        alert('Your cart is empty!');
    }
});

let cart = JSON.parse(localStorage.getItem("cart")) || [];
const cartContainer = document.getElementById("cart-items");

function renderCart() {
  cartContainer.innerHTML = "";
  let subtotal = 0;
  let deliveryDisplay = "";
  let deliveryCost = 0;

  cart.forEach((item, index) => {
    const itemTotal = item.price * item.quantity;
    subtotal += itemTotal;

    cartContainer.innerHTML += `
      <div class="cart-box" data-id="${item.id || ''}">
        <img src="${item.image}" class="cart-img">

        <div class="cart-info">
          <h4>${item.name}</h4>
          <p>PKR ${item.price}</p>

          <button onclick="removeItem(${index})" class="remove-btn">
            Remove
          </button>
        </div>

        <div class="qty-box">
          <button onclick="changeQty(${index}, -1)">-</button>
          <span>${item.quantity}</span>
          <button onclick="changeQty(${index}, 1)">+</button>

          <p>PKR ${itemTotal}</p>
        </div>
      </div>
    `;
  });

  // Check if item2 exists
  const hasItem2 = cart.some(item => item.id === "item2");

  if (hasItem2) {
    deliveryDisplay = "Delivery Free";
    deliveryCost = 0;
  } else if (subtotal > 0) {
    deliveryDisplay = "PKR 249";
    deliveryCost = 249;
  } else {
    deliveryDisplay = "PKR 0";
    deliveryCost = 0;
  }

  document.getElementById("subtotal").innerText = "PKR " + subtotal;
  document.getElementById("delivery").innerText = deliveryDisplay;
  document.getElementById("total").innerText = "PKR " + (subtotal + deliveryCost);

  localStorage.setItem("cart", JSON.stringify(cart));
}

// Change quantity
function changeQty(index, amount) {
  cart[index].quantity += amount;
  if (cart[index].quantity <= 0) cart.splice(index, 1);
  renderCart();
}

// Remove item
function removeItem(index) {
  cart.splice(index, 1);
  renderCart();
}

// Show "Item added" message
function showCartMessage() {
  const msg = document.getElementById('cart-message');
  msg.style.display = 'block';
  setTimeout(() => msg.style.display = 'none', 2000);
}

// Add-to-cart buttons
const addToCartButtons = document.querySelectorAll('.add-to-cart');
addToCartButtons.forEach(button => {
  button.addEventListener('click', e => {
    e.preventDefault();
    showCartMessage();
  });
});

// Place order button
document.getElementById('place-order-btn').addEventListener('click', () => {
  if (cart.length > 0) {
    localStorage.setItem('currentOrder', JSON.stringify(cart));
    window.location.href = 'delivery.html';
  } else {
    alert('Your cart is empty!');
  }
});

// Initial render
renderCart();
</script>


     
</body>
</html>